"" Source your .vimrc
"source ~/.vimrc

"" -- Suggested options --
" Show a few lines of context around the cursor. Note that this makes the
" text scroll if you mouse-click near the start or end of the window.
" set scrolloff=5

" Do incremental searching.
" set incsearch

" Don't use Ex mode, use Q for formatting.
" map Q gq


"" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
"" Map \r to the Reformat Code action
"map \r <Action>(ReformatCode)

"" Map <leader>d to start debug
"map <leader>d <Action>(Debug)

"" Map \b to toggle the breakpoint on the current line
"map \b <Action>(ToggleLineBreakpoint)


" Find more examples here: https://jb.gg/share-ideavimrc

set charset=utf-8
set encoding=utf-8

" ================================================================================================
" = Extensions =====================================
" ================================================================================================
Plug 'tpope/vim-surround'
" Plug 'preservim/nerdtree'
Plug 'terryma/vim-multiple-cursors'



" https://github.com/LintaoAmons/CoolStuffes/blob/main/ideavim/.ideavimrc
" ================================================================================================
" = basic =====================================
" ================================================================================================
set clipboard+=unnamed
set ignorecase
set scrolloff=25
set history=200
set incsearch
set hlsearch
set showmode
set surround

" ä¸­è‹±æ–‡è‡ªåŠ¨åˆ‡æ¢
" set keep-english-in-normal
set keep-english-in-normal-and-restore-in-insert
let context_aware = 1


" ================================================================================================
" = No Leader Keymaps =====================================
" ================================================================================================
nmap ge <action>(GotoNextError)
nmap gt <action>(GotoTest)
nmap gp <action>(MethodUp)
nmap gn <action>(MethodDown)
nmap gl <action>(JumpToLastChange)
nmap gb <action>(Back)
nmap gf <action>(Forward)
" last changed in current buffer(file)
nmap ga <action>(GotoImplementation)
nmap gs <action>(GotoSuperMethod)
nmap gi <action>(ImplementMethods)
nnoremap gu :<C-u>action ShowUsages<CR>

" paste multiple times. æš‚æ—¶ä¸çŸ¥å¦™ç”¨
" vmap p \"_dp

" bookmark
nmap ma <action>(ToggleBookmark)
nmap mm <action>(ManageRecentProjects)
nmap mr <action>(Maven.Reimport)
nmap mz <action>(ToggleZenMode)

nmap L <action>(NextTab)
nmap H <action>(PreviousTab)
" é‡å‘½åå…ƒç´ 
nmap ri <action>(RenameElement)
nmap 9 $
" æ›¿æ¢ç²˜è´´
"nmap =wp dwh"0p
" nmap =p "+p
nnoremap 0 ^
nnoremap ^ 0

nmap <Enter> i<Enter><Esc>



nnoremap ta :action Annotate<cr>
" æ–­ç‚¹
" nnoremap tb :action ToggleLineBreakpoint<cr>
" nnoremap tm :action ToggleBookmark<cr>

" ================================================================================================
" = Leader Keymaps =====================================
" ================================================================================================
" leaderkey
let mapleader=" "


" ================================================================================================
" ğŸ‘»ğŸ‘»ğŸ‘» Which-Key ğŸ‘»ğŸ‘»ğŸ‘»
" ================================================================================================
set which-key
set notimeout



let g:WhichKeyDesc_No_Highlight = "<leader>nl NoHighlight"
nmap <leader>nl :nohlsearch<CR>

" c: Close â­ï¸;
let g:WhichKeyDesc_CloseBuffer = "<leader>c CloseBuffer"
nmap <leader>c :q!<CR>

" i: Insert â­ï¸
let g:WhichKeyDesc_InsertAfterBrackets = "<leader>i InsertAfterBrackets"
nmap <leader>i f(a

" j: add Semicolon and goto nextlineâ­ï¸
let g:WhichKeyDesc_InsertSemicolon = "<leader>j InsertSemicolon"
nmap <leader>j A;<ESC>o

" e: Toggle Explorer â­ï¸
let g:WhichKeyDesc_ToggleExplorerOrExtract = "<leader>e ToggleExplorer"
"nmap <leader>e <action>(ActivateProjectToolWindow)
" e: Extract
" extract method/function
vmap <leader>em <action>(ExtractMethod)
" extract constant
vmap <leader>ec <action>(IntroduceConstant)
" extract field
vmap <leader>ef <action>(IntroduceField)
" extract variable
vmap <leader>ev <action>(IntroduceVariable)

" s: Show â­ï¸
let g:WhichKeyDesc_Show = "<leader>s Show"
let g:WhichKeyDesc_Show_FileStructure = "<leader>ss ShowFileStructure"
nmap <leader>ss <action>(FileStructurePopup)
let g:WhichKeyDesc_Show_Bookmarks = "<leader>sb ShowBookmarks"
nmap <leader>sb <action>(ShowBookmarks)
let g:WhichKeyDesc_Show_ParameterInfo = "<leader>sb ShowParameterInfo"
nmap <leader>sp <action>(ParameterInfo)


" w: Window â­ï¸
let g:WhichKeyDesc_Windows = "<leader>w Windows"
let g:WhichKeyDesc_Windows_maximize = "<leader>wo maximize"
nmap <leader>wo <action>(UnsplitAll) \| <action>(HideAllWindows)
let g:WhichKeyDesc_Windows_splitWindowVertically = "<leader>wl splitWindowVertically"
nmap <leader>wl <action>(SplitVertically)
let g:WhichKeyDesc_Windows_closeActiveWindow = "<leader>wc closeActiveWindow"
nmap <leader>wc <c-w>c

nnoremap <Leader>o :<C-u>action RecentProjectListGroup<CR>
nnoremap <Leader>d :<C-u>action ChooseDebugConfiguration<CR>
nnoremap <Leader>wa :<C-u>action CloseAllEditorsButActive<CR>



" imap åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ çš„ç§»åŠ¨
imap <c-h> <Left>
imap <c-l> <Right>
imap <c-j> <Down>
imap <c-k> <Up>

" ================================================================================================
" ğŸ‘»ğŸ‘»ğŸ‘» jump ğŸ‘»ğŸ‘»ğŸ‘»
" ================================================================================================
nmap <leader><leader>s :action KJumpAction<cr>
nmap <leader><leader>w :action KJumpAction.Word0<cr>
nmap <leader><leader>l :action KJumpAction.Line<cr>

" æœç´¢æ–¹æ¡ˆ

" å½“å‰è¡Œï¼š
" :s/foo/bar/g
" å…¨æ–‡ï¼š
" :%s/foo/bar/g
" https://blog.csdn.net/mygodhome/article/details/92829915


" å•è¯å¤åˆ¶ï¼š yw
" åˆ†åˆ«æ›´æ”¹è¿™äº›é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹
" ciâ€™ã€ciâ€ã€ci(ã€ci[ã€ci{ã€ci< -
" åˆ†åˆ«åˆ é™¤è¿™äº›é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹
" diâ€™ã€diâ€ã€di(æˆ–dibã€di[ã€di{æˆ–diBã€di< -
" åˆ†åˆ«å¤åˆ¶è¿™äº›é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹
" yiâ€™ã€yiâ€ã€yi(ã€yi[ã€yi{ã€yi< -
" åˆ†åˆ«é€‰ä¸­è¿™äº›é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹
" viâ€™ã€viâ€ã€vi(ã€vi[ã€vi{ã€vi< -
"  * å‘ä¸‹æŸ¥æ‰¾å½“å‰å…‰æ ‡æ‰€åœ¨å•è¯ï¼› # é€†å‘
" https://github.com/einverne/dotfiles/blob/master/idea/.ideavimrc